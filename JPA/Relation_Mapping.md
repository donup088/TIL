### 양방향 매핑
- 양방향 매핑은 단방향 매핑 2개로 볼 수 있다.
- 두 객체를 양방향 매핑을 했으면 두 객체 중 하나로 외래키를 관리해야한다.
- 처음 설계할 때 단방향 매핑으로 끝내야한다. 양방향 매핑은 반대 방향으로 조회기능이 추가된 것이다.
- 단방향 매핑을 잘해놓고 양방향 매핑은 필요할 때 추가해도 된다.

### 연관관게의 주인
- 연관관계의 주인만 외래키를 관리(등록,수정)
- 주인이 아닌 쪽은 읽기만 가능
- 주인이 아니면 mappedBy 속성으로 주인을 지정
- 외래 키가 있는 곳을 주인으로 정하자.
- 일대다라면 다쪽에 외래키를 두고 주인으로 정한다.

### 양방향 매핑시 주의점
- 값을 세팅할 때 양쪽에 모두 넣어줘야한다.
    - 값을 한쪽만 넣어주면 테스트 케이스에서 오류가 날 수 있다.
    - 트랙잭션 커밋이 안된 시점에 값을 가져오면 값이 없는 경우가 생길 수 있다.
- 연관관계 편의 메소드를 생성한다.
    ```
    public void setTeam(Team team){
        this.tema = team;
        team.getMembers().add(this);
    }
    ```
- 양방향 매핑시 무한 루프 조심하자.
    - toString()
    - lombok
    - JSON 생성 라이브러리