### 프로세스와 스레드
프로세스는 운영체제로부터 자원을 할당 받는 작업의 단위이다. 스레드는 할당 받은 자원을 이용하는 실행의 단위이고 프로세스 내에 여러개 생길 수 있다.

- 멀티 프로세스 vs 멀티 스레드
멀티 프로세스는 하나의 프로그램을 여러개의 프로세스로 구성하여 하나의 작업을 처리하는 것이다. 하나의 프로세스가 잘못 되어도 프로그램이 동작하는 장점이 있고 context switching 비용이 발생하는 단점이 있다.

멀티 스레드는 프로그램을 여러개의 스레드로 구성하고 각 스레드가 작업을 처리하는 것이다. 시스템 자원 소모 감소와 처리 비용 감소 스레드간 자원 공유 등의 장점이 있고 디버깅이 어렵고 동기화 이슈, 하나의 스레드의 오류로 전체 프로세스의 문제가 발생하는 단점이 있다.

- Thread Safe
Thread Safe 란 특정 함수와 변수가 여러 스레드에서 호출되어도 하나의 스레드에서 호출했을 때와 같은 결과가 보장되어야하는 것을 의미한다.

- Context Switching
CPU가 어떤 하나의 프로세스를 실행하고 있는 상태에서 인터럽트 요청에 의해 다음 우선 순위의 프로세스가 실행되어야 할 때 기존 프로세스 상태를 저장하고 CPU가 다음 프로세스를 수행하도록 새로운 프로세스의 상태를 교체하는 작업을 말한다.

## 가상 메모리
실제 메모리에서 공간이 부족한 경우 보조 기억 장치에서 임시로 사용하는 영역이다. OS에서 관리하며 프로세스는 이것이 실제 메모리인지 swap 영역인지 모른다. 
실제 메모리가 아니기 때문에 지연시간이 많이 발생하며 가급적이면 swap 메모리를 사용하지 않도록 설계하는 것이 좋고 만약 사용하는 양이 증가한다면 메모리 누수를 의심해볼 수 있다.

## 데드락
프로세스가 자원을 얻지 못해서 다음 처리를 하지 못하는 상태이다. 교착상태라고도 한다.
- 발생 조건
1. 상호 배제
    - 자원은 한번에 한 프로세스만 사용가능
2. 점유 대기
    - 최소한 하나의 자원을 점유하고 있으면서 다른 프로세스에 할당되어 사용하고 있는 자원을 추가로 점유하기 위해 대기하는 프로세스 존재
3. 비선점
    - 다른 프로세스에 할당된 자원은 사용이 끝날 때 까지 강제로 빼앗을 수 없다.
4. 순환 대기
    - 프로세스 집합에서 순환 형태로 자원을 대기하고 있어야한다.

- 교착상태 에방, 회피
1. 예방
    - 교착 상태 발생 조건중 하나를 제거하면서 해결한다. -> 자원낭비가 심하다.
2. 회피
    - 은행원 알고리즘 : 프로세스가 자원을 요구할 때 시스템은 자원을 할당한 후에도 안정 상태로 남아 있다면 자원을 할당하고 아니면 다른 프로세스들이 자원 해지까지 대기
3. 탐지
    - 자원 할당 그래프를 통해 교착 상태를 탐지한다.
4. 회복
    - 교착 상태를 일으킨 프로세스를 종료하거나 할당된 자원을 해제시킨다.

## 세마포어 & 뮤텍스
- 세마포어 : 공유된 자원에 여러 프로세스가 동시에 접근하면서 문제가 발생할 수 있다. 이 때 공유된 자원의 데이터는 한 번에 하나의 프로세스만 접근할 수 있도록 제한을 둬야한다. 이를 위해 세마포어를 사용한다.

- 임계 구역
    - 여러 프로세스가 데이터를 공유하며 수행될 때, 각 프로세스에서 공유 데이터를 접근하게 하는 프로그램 코드 부분

- 뮤텍스 
    - 임계 구역을 가진 스레드들의 실행시간을 서로 겹치지 않고 각각 단독으로 실행되게 하는 기술이다. 이를 위해 lock(현재 임계 구역에 들어갈 권한을 얻어옴) 과 unlock(현재 임계 구역을 모두 사용했음을 알림)을 사용한다.


